--- a/drivers/i2c/busses/i2c-imx.c
+++ b/drivers/i2c/busses/i2c-imx.c
@@ -641,52 +641,78 @@ static void i2c_imx_slave_init(struct im
 	temp = i2c_imx->hwdata->i2cr_ien_opcode | I2CR_IIEN;
 	imx_i2c_write_reg(temp, i2c_imx, IMX_I2C_I2CR);
 }
+void i2c_imx_send_data(struct i2c_client *slave)
+{
+	/* wake up wait queue */
+	wake_up(&slave->tx_queue);
+	slave->valid = 0;
+}
+
 
 static void i2c_imx_slave_process_irq(struct imx_i2c_struct *i2c_imx)
 {
 	unsigned int status, ctl;
 	u8 data;
+	struct i2c_client *slave;
 
+	slave = i2c_imx->slave;
 	status = imx_i2c_read_reg(i2c_imx, IMX_I2C_I2SR);
 	ctl = imx_i2c_read_reg(i2c_imx, IMX_I2C_I2CR);
 
 	if (status & I2SR_IAAS) { /* interrupt slave mode */
 		if (status & I2SR_SRW) {
 			/* master wants to read from us */
-			i2c_slave_event(i2c_imx->slave,
-					I2C_SLAVE_READ_REQUESTED, &data);
+			
+			/* slave transimt */
 			ctl |= I2CR_MTX;
 			imx_i2c_write_reg(ctl, i2c_imx, IMX_I2C_I2CR);
-			/*send data */
-			imx_i2c_write_reg(data, i2c_imx, IMX_I2C_I2DR);
+
+			slave->idx = 0;
+			slave->is_master_read = true;
+			slave->valid = 1;
+			/* wait until data is ready */
+			wait_event_timeout(slave->tx_queue,
+					   slave->valid == 0,
+					   IMX_I2C_STATE_DELAY);
+			if (slave->valid != 0) {
+				dev_dbg(&i2c_imx->adapter.dev, "<%s> Timeout\n", __func__);
+			} else {
+				data = slave->tx_buf[0];
+				slave->idx = 1;
+				/*send data */
+				imx_i2c_write_reg(data, i2c_imx, IMX_I2C_I2DR);
+			}
 		} else {
 			/* master wants to write to us */
 			dev_dbg(&i2c_imx->adapter.dev, "write requested");
-			i2c_slave_event(i2c_imx->slave,
-					I2C_SLAVE_WRITE_REQUESTED, &data);
-
-			/*slave receive */
+			slave->is_master_read = false;
+			slave->idx = 0;
+			
+			/* slave receive */			
 			ctl &= ~I2CR_MTX;
 			imx_i2c_write_reg(ctl, i2c_imx, IMX_I2C_I2CR);
-
+#if 0
+			/* wake up wait queue */
+			wake_up(&slave->wait_queue);
+#endif
 			/*dummy read */
 			data = imx_i2c_read_reg(i2c_imx, IMX_I2C_I2DR);
 		}
 	} else {
 		if (ctl & I2CR_MTX) { /* transmit mode */
 			if (!(status & I2SR_RXAK)) {	/* received ACK */
-				i2c_slave_event(i2c_imx->slave,
-						I2C_SLAVE_READ_PROCESSED,
-						&data);
+				
 				ctl |= I2CR_MTX;
 				imx_i2c_write_reg(ctl, i2c_imx, IMX_I2C_I2CR);
-				/*send data */
-				imx_i2c_write_reg(data, i2c_imx, IMX_I2C_I2DR);
+				if(slave->idx < slave->len) {
+					data = slave->tx_buf[slave->idx++];
+					/* send data */
+					imx_i2c_write_reg(data, i2c_imx, IMX_I2C_I2DR);
+				} else {
+				}				
 			} else {
 				/* received NAK */
-				i2c_slave_event(i2c_imx->slave,
-						I2C_SLAVE_STOP,
-						&data);
+				
 				ctl &= ~I2CR_MTX;
 				imx_i2c_write_reg(ctl, i2c_imx, IMX_I2C_I2CR);
 
@@ -701,15 +727,13 @@ static void i2c_imx_slave_process_irq(st
 				data = imx_i2c_read_reg(i2c_imx, IMX_I2C_I2DR);
 				dev_dbg(&i2c_imx->adapter.dev,
 					"received 0x%x", data);
-				i2c_slave_event(i2c_imx->slave,
-						I2C_SLAVE_WRITE_RECEIVED,
-						&data);
+				slave->rx_buf[slave->idx++] = data;
 			} else { /* STOP signal is detected*/
 				dev_dbg(&i2c_imx->adapter.dev,
 					"STOP signal detected");
-				i2c_slave_event(i2c_imx->slave,
-						I2C_SLAVE_STOP,
-						&data);
+				if (slave->is_master_read == false)
+					slave->valid = 1;
+				slave->len = slave->idx;
 			}
 		}
 	}
@@ -799,7 +823,9 @@ static int slave_evt_handler(struct imx_
 			     enum imx_i2c_events event)
 {
 	u8 reg, data;
+	struct i2c_client *slave;
 
+	slave = i2c_imx->slave;
 	switch (event) {
 	case EVT_ENTRY:
 		if (i2c_imx->last_error == -EINPROGRESS) {
@@ -823,6 +849,8 @@ static int slave_evt_handler(struct imx_
 			data = 0;
 			set_state(i2c_imx,  STATE_IDLE);
 			dev_dbg(&i2c_imx->adapter.dev, "end of package");
+			slave->len = slave->idx;
+			slave->valid = 1;
 			i2c_slave_event(i2c_imx->slave, I2C_SLAVE_STOP, &data);
 		}
 
@@ -997,6 +1025,9 @@ static int i2c_imx_reg_slave(struct i2c_
 		return -EAFNOSUPPORT;
 
 	i2c_imx->slave = slave;
+	init_waitqueue_head(&slave->tx_queue);
+	slave->idx = 0;
+	slave->valid = 0;
 
 	/* Set the Slave address */
 	imx_i2c_write_reg((i2c_imx->slave->addr << 1), i2c_imx, IMX_I2C_IADR);
--- a/include/linux/i2c.h
+++ b/include/linux/i2c.h
@@ -250,6 +250,13 @@ struct i2c_client {
 	struct list_head detected;
 #if IS_ENABLED(CONFIG_I2C_SLAVE)
 	i2c_slave_cb_t slave_cb;	/* callback for slave mode	*/
+	bool is_master_read;
+	bool valid;
+	char rx_buf[256];
+	char tx_buf[256];
+	int  len;
+	u8   idx;
+	wait_queue_head_t	tx_queue;
 #endif
 };
 #define to_i2c_client(d) container_of(d, struct i2c_client, dev)
